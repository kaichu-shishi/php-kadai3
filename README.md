# 課題8　 -PHP3 ブックマークアプリ【更新・削除】-

## ①課題内容（どんな作品か）
- 課題7に引き続き、現実恋愛シミュレーションゲーム『ザ・ゲーム・ライオンキング』に、PHPとデータベースをつかって過去の言動を更新・削除する機能を追加実装した。
- ※注1：確認するときは「index.html」ではなく「page00.php」を開いてください。
- ※注2：sqlファイルは「kadai03」ではなく「kadai02」となっていますが、課題7(PHP2)の続きで使っている関係上名前がややこしくなっているだけなので、全く問題ありません。
  
## ②工夫した点・こだわった点
- フロント側（HTMLとJavaScript）で簡易的なバリデーション機能を実装した点。すなわち、言動のタイトル・カード選択・言動の内容、これらの三つが入力されていないとPHPに送信できないようなアーキテクチャにした。
- タイトルとテキストエリアについては、HTMLの要素に「required」をつけることで実装した。checkboxについてはこちらの記事をもとに実装した。→https://qiita.com/katao_eng/items/ffea1575afdc95646995
- 更新・削除のボタンを押したときは、JavaScriptのconfirmメッセージを表示し、キャンセルを押したら操作が取り消せるようにした。

## ③難しかった点・次回トライしたいこと(又は機能)
- バリデーションの実装が最も難しかった。なかなか思い通りの実装にできず、今回は簡易的な実装にとどまったのが悔しかった。本当は確定ボタンを押したとき、「本当にこれで確定しますか？ - OK or キャンセル」というような確認ダイアログボックスまで実装したかった。JavaScriptのconfirm();で試したのだが、キャンセルを押してもPHPに送信されてしまう問題が発生した。どんなに調べてもどうしても解消することができず、次回の課題としたい。
- 更新画面ではチェックボックスのデータを復元したかったが、ネットでいくら検索しても出て来ずに断念した。この箇所のコードは書き方が相当難しそうだと思った。

## ④質問・疑問・感想、シェアしたいこと等なんでも
- [質問]
- [疑問]「チェックボックスの情報を取得→DBに保存→DBから復元→HTMLでブラウザに再表示」という一連の流れは、いったいどうすればスマートに実装できるのだろうか？
- [感想]機能を何個も付け加えていくと、コード量がどんどん増えていって頭の中がぐちゃぐちゃになっていくように感じた。
- [tips]
- [参考記事]
